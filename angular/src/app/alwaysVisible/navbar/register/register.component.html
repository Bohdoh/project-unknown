<section class="section">
  <div>
    <div class="columns is-centered">
      <div class="column is-half">
        <form (ngSubmit)="onSubmit()" class="box">
          <div class="field">
            <label class="label">Username:</label>
            <div class="control">
              <input class="input" type="text" [(ngModel)]="registerRequest.username" name="username" placeholder="Username" (ngModelChange)="checkUsername()">
            </div>
            <div *ngIf="!isValidUsername && registerRequest.username" >
              <small class="errormsg">Username can only have numbers, letters and "-"</small>
            </div>
          </div>
          <div class="field">
            <label class="label">Email:</label>
            <div class="control">
              <input class="input" type="email" [(ngModel)]="registerRequest.email" name="email" placeholder="Email" (ngModelChange)="checkEmail()">
            </div>
            <div *ngIf="!isValidEmail && registerRequest.email" >
              <small class="errormsg">Please enter a valid e-mail</small>
            </div>
          </div>
          <div class="field">
            <label class="label">Password:</label>
            <div class="control input-wrapper">
              <input #passwordInput class="input" type="password" [(ngModel)]="registerRequest.password" name="password" placeholder="Password">
              <span class="icon is-small input-icon" style="padding-bottom: 10px" (click)="togglePasswordVisibility(passwordInput)">
      <i class="fas" [ngClass]="{'fa-eye': passwordInput.type === 'password', 'fa-eye-slash': passwordInput.type === 'text'}"></i>
    </span>
            </div>
            <div *ngIf="registerRequest.password">
            <div *ngIf="!pwIsLengthValid()" >
              <small class="errormsg">Your password needs a length of 5</small>
            </div>
            <div *ngIf="!pwHasNumber()" >
              <small class="errormsg">Your password needs a number</small>
            </div>
            <div *ngIf="!pwHasUppercase()" >
              <small class="errormsg">Your password needs an uppercase letter</small>
            </div>
            </div>
          </div>
          <div class="field is-grouped" >
            <div class="control" >
              <button class="button is-primary" type="submit" [disabled]="!isValidUsername || !isValidEmail || !pwIsValid()">Register</button>
            </div>
          </div>
        </form>
        <div class="has-text-centered">
          <span style="color:white">Already a member?   </span> <a (click)="showLogin.emit();resetInputFields()">  Login  </a>
        </div>
      </div>
    </div>
  </div>
</section>
